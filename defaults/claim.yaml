---
apiVersion: templates.krateo.io/v1alpha1
kind: aws-stack
metadata:
  name: aws-stack
  deploymentId: ${{ deploymentId }}
spec:
  dashboard:
    description: ${{ description }}
    icon: "fa-brands fa-aws"
    tags:
      - aws
      - stack
      - infrastructure
      - rds
    links:
      - url: https://${{ provider }}/${{ organizationName }}/${{ repositoryName }}
        title: ${{ organizationName }}/${{ repositoryName }}
        icon: "fa-brands fa-git"
      - url: https://kiratech.awsapps.com/start#/
        title: AWS Console
        icon: "fa-brands fa-aws"
    plugins:
      - name: resources
        value: ${{ organizationName }}-${{ repositoryName }}
        type: argocd
        icon: fa-solid fa-cookie
    owner: ${{ owner }}
  name: "${{ name }}"
  eks:
    clusterName: ${{ clusterName }}"
  network:
    networkName: "${{ networkName }}"
  rds:
    region: "${{ rdsRegion }}"
    allocatedStorage: "${{ rdsDataDiskSizeGb }}"
    dbInstanceClass: "${{ rdsInstanceClass }}"
    engineVersion: "${{ rdsEngineVersion }}"
    storageType: "${{ rdsStorageType }}"
